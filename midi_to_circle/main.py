"""
Author: Mae Horak for masters thesis - Synesthetic Composition 2023

Description: What is synesthetic composition? It's an application I am
developing that uses imagery generated by machine learning that reacts
to live audio to combine the sense of hearing and sight.

This program takes input from a midi keyboard or live audio through a microphone
Then uses it to graph x and y coordinates that represent the "mood" of the music

https://github.com/mkh7878/synesthetic_composition

"""

from circle import circle_plotter
from sound_inputs import intervals, midi_input, mood_analysis
from sound_inputs.midi_input import MidiInput
from sound_inputs.mood_analysis import DetermineXY
import threading


def main():
    # Create an instance of MidiInput class
    midi_input = MidiInput()
    midi_input.find_midi_device()

    # Start a thread for the music_music method
    music_thread = threading.Thread(target=midi_input.music_music)
    music_thread.start()

    #Prints current interval (for debugging)
    while True:
        current_note_interval = midi_input.note_queue.get()  # Get the interval from the queue
        print(current_note_interval)
        # Process the interval or perform other actions as needed


    # determine_xy = DetermineXY()
    # x_coordinate, y_coordinate = determine_xy.determine_xy_function()
    #
    # plot_thread = threading.Thread(target=start_plotter, args=(x_coordinate, y_coordinate))
    # plot_thread.start()








if __name__ == "__main__":
    main()
